<script>
  document.addEventListener('DOMContentLoaded', () => {
    const logo = document.getElementById('logo-theme');

    function getCurrentTheme() {
      const storedTheme = localStorage.getItem('theme');
      if (storedTheme) return storedTheme;

      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    }

    function setLogo(theme) {
      const img = logo as HTMLImageElement; // ðŸ‘ˆ cast explÃ­cito aqui
      if (!img) return;

      img.src = theme === 'dark'
        ? '/assets/logo-darkmode.webp'
        : '/assets/logo.webp';
    }

    const currentTheme = getCurrentTheme();
    setLogo(currentTheme);

    // Detecta mudanÃ§a de tema no sistema
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      setLogo(e.matches ? 'dark' : 'light');
    });

    // Detecta mudanÃ§a via localStorage
    window.addEventListener('storage', (e) => {
      if (e.key === 'theme') {
        setLogo(e.newValue);
      }
    });
  });
</script>